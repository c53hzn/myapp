<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Image size checker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
 <style>
html, body{
  width: 100%;
  margin: 0px;
}
#container{
	width: 80%;
	margin: 20px auto;
}
#myImg{
	width: 99.5%;
}
#imgOutput{
	width: 100%;
	padding: 20px;
	box-sizing: border-box;
	border: gray solid 1px;
}
#imgOutput img{
	max-height: 80px;
	min-height: 80px;
}
</style>
</head>

<body translate="no" >
<div id="container">
	<h3>Image Size Checker for eBay</h3>
	<h5>eBay require sellers to use pictures bigger than 500 x 500 px, check if your pics are qualified here</h5>
	<p>How to check:<br>
		Seperate your image URLs with ";"(semicolon) or white space, both are acceptable.<br>
		Put your URLs in the box and press "Get Size".<br>
		Picture smaller than <strong>500 x 500 px</strong> will stand out with red border and red text.
	</p>
	<input id="myImg" value="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1495785/profile/profile-80.jpg;https://www.houzhenni.com/myassets/starry-night.jpg" type="text"/>
	<p></p>
	<button id="getSize">Get Size</button>
	<p></p>
	<div id="imgOutput">
		<p><img style="border: 2px solid red;" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1495785/profile/profile-80.jpg" /><span style="color: red;">Picture 1: w 80 x h 80 px</span></p>
		<p><img style="border: 2px black solid;" src="https://www.houzhenni.com/myassets/starry-night.jpg" /><span>Picture 2: w 1280 x h 1014 px</span>
	</div>
</div>
  
<script >
var myImg = document.getElementById("myImg");
myImg.onfocus = function(){
	this.select();
}
var getSize = document.getElementById("getSize");
var imgOutput = document.getElementById("imgOutput");
var outputValue = "";
var container = document.getElementById("container");
getSize.onclick = function(){
	var imgSrc = myImg.value;
	imgOutput.innerHTML = "";
	if(imgSrc.indexOf(" ")){
		imgSrc = imgSrc.replace(/\s+/g,';');
	}
	if(imgSrc.indexOf(";")){
		imgSrc = imgSrc.split(";");
	}
	var tempArr = [];
	for(var k = 0; k < imgSrc.length; k++){
		if(imgSrc[k]){
			tempArr.push(imgSrc[k]);
		}
	}
	imgSrc = tempArr;
	if(imgSrc.length == 0){
		return;
	}
	let i = 0;

	function iterateImg(){
		var img = new Image();
		img.src = imgSrc[i];
		img.style = "border: solid black 2px;";
		var p = document.createElement("p");
		p.appendChild(img);
		var tempSpan = document.createElement("span");
		img.onload = function(){
			tempSpan.innerHTML = "Picture " + (i + 1) + ": w " + img.width + " x h " + img.height + " px";
			if(img.width < 500 || img.height < 500){
				img.style.borderColor = "red";
				tempSpan.style = "color: red;"
			}
			p.appendChild(tempSpan);
			imgOutput.appendChild(p);
			if(i < imgSrc.length - 1){
				i++;
				iterateImg();
			}else{
				return;
			}
		}
		img.onerror = function(){
			tempSpan.innerHTML = "Picture " + (i + 1) + ": Invalid Picture Path";
			p.appendChild(tempSpan);
			imgOutput.appendChild(p);
			if(i < imgSrc.length - 1){
				i++;
				iterateImg();
			}else{
				return;
			}
		}	
	}
	iterateImg();
}
</script>
</body>
</html>
 
