<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,minimum-scale=1.0,user-scalable=0"
      http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Flex Album Layout</title>

<style>
body{
  margin: 0px;
  min-width: 320px;
  background: #ffeaa7;
}
main{
  margin: 0px auto;
  max-width: 800px;
}
section{
  margin: 30px 20px;
  background: white;
  box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
  overflow: hidden;
}
.flex-album{
  display: flex;
  justify-content: space-evenly;
  flex-wrap: wrap;
  padding-bottom: 13px;
}
.flex-album-unit{
  margin-top: 13px;
  width: 48%;
}
.flex-album-unit img{
  width: 100%;
}
.flex-album-desc{
  margin: 0px auto 12px auto;
  text-align: center;
}
.flex-album-desc a{
  font-size: 20px;
  color: blue;
  text-decoration: none;
  text-shadow: 0px 1px 1px yellow;
}
.flex-album-desc a:hover{
  color: orange;
}
.flex-album-detail{
  position: fixed;
  width: 240px;
  background: white;
  border: 2px solid white;
  display: none;
}
.flex-album-detail img{
  width: 100%;
}

@media all and (max-width: 768px){
  .flex-album-unit{
    margin: 13px 13px 0px 13px;
    width: 100%;
  }
  .flex-album-unit img{
    cursor: pointer;
  }
}
 </style>

 </head>

<body translate="no" >
<main>
  <section>
    <div class="flex-album">
      <div class="flex-album-unit">
        <img src="https://image.ibb.co/n8gDPT/wikipedia_viewer_home.png" alt="wikipedia_viewer_home">
        <div class="flex-album-desc">
          <a target="_blank" href="https://codepen.io/houzhenni/pen/qpqLjR">Wikipedia Viewer</a>
        </div>
        <div class="flex-album-detail">
          <img src="https://image.ibb.co/mSNCjT/wikipedia_viewer_home.png" alt="wiki_details">
          <img src="https://image.ibb.co/mOWir8/wikipedia_viewer_result.png" alt="wiki_details">
        </div>
      </div>
      <div class="flex-album-unit">
        <img src="https://image.ibb.co/cmwf4T/xiaomi_clock.png" alt="xiaomi_clock">
        <div class="flex-album-desc">
          <a target="_blank" href="https://codepen.io/houzhenni/pen/errgwo">Xiaomi Clock</a>
        </div>
        <div class="flex-album-detail">
          <img src="https://image.ibb.co/mpZgdo/xiaomi_clock.png" alt="xiaomi_clock">
          <img src="https://image.ibb.co/nzac4T/xiaomi_clock_2.png" alt="xiaomi_clock_2">
        </div>
      </div>
      <div class="flex-album-unit">
        <img src="https://image.ibb.co/cYgmdo/random_quote_machine.png" alt="random_quote_machine">
        <div class="flex-album-desc">
          <a target="_blank" href="https://codepen.io/houzhenni/pen/GyjzZb">Random Quote Machine</a>
        </div>
        <div class="flex-album-detail">
          <img src="https://image.ibb.co/mnA9W8/random_quote_machine.png" alt="random_quote_machine">
          <img src="https://image.ibb.co/cRToto/random_quote_machine_2.png" alt="random_quote_machine_2">
          <img src="https://image.ibb.co/cJ0weT/random_quote_machine_3.png" alt="random_quote_machine_3">
        </div>
      </div>
      <div class="flex-album-unit">
        <img src="https://image.ibb.co/gTssJo/pomodoro_clock.png" alt="pomodoro_clock">
        <div class="flex-album-desc">
          <a target="_blank" href="https://codepen.io/houzhenni/pen/OvZzpX">Pomodoro Clock</a>
        </div>
        <div class="flex-album-detail">
          <img src="https://image.ibb.co/e4KsjT/pomodoro_clock.png" alt="pomodoro_clock">
          <img src="https://image.ibb.co/gYyar8/pomodoro_clock_2.png" alt="pomodoro_clock_2">
        </div>
      </div>
      <div class="flex-album-unit">
        <img src="https://image.ibb.co/g5ZuW8/product_landing_page.png" alt="product_landing_page">
        <div class="flex-album-desc">
          <a target="_blank" href="https://codepen.io/houzhenni/pen/vaevqP">Product Landing Page</a>
        </div>
        <div class="flex-album-detail">
          <img src="https://image.ibb.co/jcrir8/product_landing_page.png" alt="product_landing_page">
        </div>
      </div>
      <div class="flex-album-unit">
        <img src="https://image.ibb.co/dCtcjT/order_form.png" alt="order_form">
        <div class="flex-album-desc">
          <a target="_blank" href="https://codepen.io/houzhenni/pen/ZjJNJj">Order Form</a>
        </div>
        <div class="flex-album-detail">
          <img src="https://image.ibb.co/hPoVPT/order_form.png" alt="order_form">
        </div>
      </div>
      <div class="flex-album-unit">
        <img src="https://image.ibb.co/diF1B8/image_size_checker.png" alt="image_size_checker">
        <div class="flex-album-desc">
          <a target="_blank" href="https://codepen.io/houzhenni/pen/bMjVLe">Image Size Checker for eBay</a>
        </div>
        <div class="flex-album-detail">
          <img src="https://image.ibb.co/jZnOr8/image_size_checker.png" alt="image_size_checker">
          <img src="https://image.ibb.co/c1MH4T/image_size_checker_2.png" alt="image_size_checker_2">
        </div>
      </div>
      <div class="flex-album-unit">
        <img src="https://image.ibb.co/eu51B8/calculator.png" alt="calculator">
        <div class="flex-album-desc">
          <a target="_blank" href="https://codepen.io/houzhenni/pen/rvEZZg">JavaScript Calculator</a>
        </div>
        <div class="flex-album-detail">
          <img src="https://image.ibb.co/bBTUW8/calculator.png" alt="calculator">
          <img src="https://image.ibb.co/hOcFPT/calculator_2.png" alt="calculator_2">
        </div>
      </div>
      <div class="flex-album-unit">
        <img src="https://image.ibb.co/c3kwdo/tech_doc_PC.png" alt="tech_doc_PC">
        <div class="flex-album-desc">
          <a target="_blank" href="https://codepen.io/houzhenni/pen/gjXwdE">CSS Shape Guidebook</a>
        </div>
        <div class="flex-album-detail">
          <img src="https://image.ibb.co/dC0yPT/tech_doc_PC.png" alt="tech_doc_PC">
          <img src="https://image.ibb.co/dmSZyo/tech_doc_mobile.png" alt="tech_doc_mobile">
        </div>
      </div>
    </div>
  </section>
</main>
<script type="text/javascript">
window.onload = function(){
  var flex_album_units = document.getElementsByClassName("flex-album-unit");
  var flex_album_thumbs = [];
  var flex_album_details = [];
  toShowDetailPic();
  function toShowDetailPic(){
    for(let i = 0; i < flex_album_units.length; i++){
      flex_album_units[i].children[0].setAttribute("data-index",i);
      flex_album_thumbs.push(flex_album_units[i].children[0]);
      flex_album_details.push(flex_album_units[i].children[2]);
      flex_album_units[i].onmousemove = function(){
        var that = this;
        var flex_album_thumb = that.children[0];
        var flex_album_detail = that.children[2];
        flex_album_thumb.onmousemove = function(){
          if(document.body.clientWidth > 751){//to include vertical scroll bar width 17px
            flex_album_detail.style.display = "block";
            var index = this.getAttribute("data-index");
            if (!flex_album_detail) {//判断图片是否加载完了，如果没加载 
              return;
            }
            if(index % 2 == 0){
              var x = window.event.clientX + 24; 
            }else{
              var x = window.event.clientX - 300; 
            }
            var y = window.event.clientY - (flex_album_detail.offsetHeight * 3 / 7);
            flex_album_detail.style.left = x +"px"; 
            flex_album_detail.style.top = y +"px"; 
          }
        }
        flex_album_thumb.onmouseout = function(){
          flex_album_detail.style.display = "none";
        }
      }
    }
    for(let j = 0; j < flex_album_units.length; j++){
      flex_album_thumbs[j].onclick = function(){
        if(document.body.clientWidth < 752){
          var index = this.getAttribute("data-index");
          var code = "<div style='margin: 0px auto; max-width: 800px;'>" + flex_album_details[index].innerHTML + "</div>";
          runCode(code);
        }
      }
    }
  }

  function runCode(html){ 
    var newWin=window.open('','',''); 
    var meta = "<meta name='viewport' content='width=device-width, initial-scale=1'>";
    var css = "<style>body{margin: 0px;}img{width: 100%;}</style>";
    newWin.opener = null;
    newWin.document.write(meta + css); 
    newWin.document.write(html); 
    newWin.document.close();
  }
}


//ref: https://www.cnblogs.com/yichengbo/archive/2011/09/15/2177708.html
</script>
</body>
</html>

